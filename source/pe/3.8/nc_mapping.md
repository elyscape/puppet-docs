---
layout: default
title: "API >> Mapping Rake Tasks to REST APIs"
subtitle: "Mapping to the Node Classifier and RBAC APIs"
canonical: "/pe/latest/nc_mapping.html"
---

The Node Classifier's REST API is a more flexible alternative to the [Console Rake API](./console_rake_api.html). This page provides a mapping from the Console Rake API to the Node Classifier and RBAC REST endpoints that most closely replicate its functionality. For more detailed information on how to use the Node Classifier REST API, see the [REST API documentation](./nc_index.html).

Rake				                   | REST				| Description
------------------------------------------ | ----------------- | --------------------
[`node:add[name,groups,classes,onexists]`](./console_rake_api.html#nodeaddnamegroupsclassesonexists)| Uses the /v1/groups endpoint and pins the node to the group | Creates a group with the same name as the node, and adds a rule that matches the host name of the node being added. The node is pinned to the group. **This rake task has been deprecated.** In PE3.8, nodes are included in node groups when they match a node group's rules. They are then classified with the node group's classes. See [Adding Nodes to a Node Group](./console_classes_groups.html#adding-nodes-to-a-node-group).
[`node:addclass[name,class]`](./console_rake_api.html#nodeaddclassnameclass) | Uses the /v1/groups endpoint and pins the node to the group | Creates a class in the group that the node is pinned to. **This rake task has been deprecated.** In PE3.8, classes are added to node groups rather than assigned directly to nodes. Nodes are assigned classes based on the node groups that they match. See [Adding Classes to a Node Group](./console_classes_groups.html#adding-classes-to-a-node-group).
[`node:addclassparam[name,class,param,value]`](./console_rake_api.html#nodeaddclassparamnameclassparamvalue) | Uses the /v1/groups endpoint and pins the node to the group | Adds a class parameter to the group that the node is pinned to. The class must already exist in the group. **This rake task has been deprecated.** In PE3.8, class parameters are added to node groups rather than directly to nodes. Nodes are assigned class parameters based on the node groups that they match. See [Setting Class Parameters](./console_classes_groups.html#setting-class-parameters).
[`node:addgroup[name,group]`](./console_rake_api.html#nodeaddgroupnamegroup) | Uses the /v1/groups endpoint and pins the node to the group | **This rake task has been deprecated.** In PE3.8, groups are no longer added to nodes. Instead, nodes are included in node groups when they match a node group's rules. See [Adding Nodes to a Node Group](./console_classes_groups.html#adding-nodes-to-a-node-group).
[`node:classes[name,classes]`](./console_rake_api.html#nodeclassesnameclasses) | Uses the /v1/groups endpoint and pins the node to the group | Replaces the classes in the node group that the node is pinned to. **This rake task has been deprecated.** In PE3.8, classes are added to and removed from node groups rather than assigned directly to nodes. Nodes are assigned classes based on the node groups that they match. See [Adding Classes to a Node Group](./console_classes_groups.html#adding-classes-to-a-node-group).
[`node:delgroup[name]`](./console_rake_api.html#nodedelname) | Uses the /v1/groups endpoint | Deletes the group that the node is pinned to. **This rake task has been deprecated.**
[`node:del[name]`](./console_rake_api.html#nodedelname) | No equivalent | **This rake task has been deprecated.**
[`node:delclassparam[name,class,param]`](./console_rake_api.html#nodedelclassparamnameclassparam) | Uses the /v1/groups endpoint and pins the node to the group | Removes the class parameter from the group that the node is pinned to. **This rake task has been deprecated.** In PE3.8, class parameters are deleted from node groups rather than from nodes. See [Deleting Parameters](./console_classes_groups_making_changes.html#deleting-parameters).
[`node:groups[name,groups]`](./console_rake_api.html#nodegroupsnamegroups) | Uses the /v1/groups endpoint and pins the node to the group |  **This rake task has been deprecated.** In PE3.8, you add nodes to node groups rather than add groups to nodes. The recommended workflow for including nodes in a node group is to create node group rules. See [Adding Nodes to a Node Group](https://docs.puppetlabs.com/pe/latest/console_classes_groups.html#adding-nodes-to-a-node-group).
[`node:list[match]`](./console_rake_api.html#nodelistmatch) | [GET /v1/nodes](./nc_groups.html#get-v1groups) | This rake task gives the same results as `nodegroup:list`. It returns a list of nodes that have been checked in with Puppet and match the string given as the parameter.
[`node:listclasses[name]`](./console_rake_api.html#nodelistclassesname) | [GET /v1/classified/nodes/<node\_name>](./nc_groups.html#get-v1groups) | This rake task lists the classes that have been assigned to a node.
[`node:listclassparams[name,class]`](./console_rake_api.html#nodelistclassparamsnameclass) | [GET /v1/classified/nodes/<node\_name>](./nc_groups.html#get-v1groups) | This rake task lists the class parameters assigned to a node.
[`node:listgroups[name]`](./console_rake_api.html#nodelistgroupsname) | No equivalent | **This rake task has been deprecated and does not do anything in PE3.8.**
[`node:variables[name,variables]`](./console_rake_api.html#nodevariablesname) | [GET /v1/groups](./nc_groups.html#get-v1groups) | This rake task creates a variable in the group that the node is pinned to. In PE3.8, variables are added to node groups rather than directly to nodes. Nodes are assigned variables based on the node groups that they match. See [Setting Variables](./console_classes_groups.html#setting-variables).
[`nodeclass:add[name,onexists]`](./console_rake_api.html#class-tasks) | No equivalent | **This rake task has been deprecated and does not do anything in PE3.8.** In PE3.8, classes are added to node groups rather than assigned directly to nodes. Nodes are assigned classes based on the node groups that they match. See [Adding Classes to a Node Group](./console_classes_groups.html#adding-classes-to-a-node-group).
[`nodeclass:del[name]`](./console_rake_api.html#class-tasks) | No equivalent | **This rake task has been deprecated and does not do anything in PE3.8.** In PE3.8, classes are removed from node groups rather than from nodes. See [Removing Classes from a Node Group](./console_classes_groups_making_changes.html#removing-classes-from-a-node-group).
[`nodeclass:list[match]`](./console_rake_api.html#class-tasks) | [GET /v1/classes](./nc_classes.html#get-v1classes) | This rake task returns all classes in every environment that match the string given as the parameter.
[`nodegroup:add[name,classes,onexists]`](./console_rake_api.html#nodegroupaddnameclassesonexists) | [POST /v1/groups/\<id>](./nc_groups.html#put-v1groupsid) | Creates a new node group and adds the specified classes.
[`nodegroup:add_all_nodes[name]`](./console_rake_api.html#nodegroupaddallnodesname) | No equivalent | **This rake task has been deprecated and does not do anything in PE3.8.** In PE3.8, nodes are included in node groups when they match a node group's rules. See [Adding Nodes to a Node Group](./console_classes_groups.html#adding-nodes-to-a-node-group).
[`nodegroup:addclass[name,class]`](./console_rake_api.html#nodegroupaddclassnameclass) | [POST /v1/groups/\<id>](./nc_groups.html#post-v1groups) | Adds a class to a node group.
[`nodegroup:addclassparam[name,class,param,value]`](./console_rake_api.html#nodegroupaddclassparamnameclassparamvalue) | [POST /v1/groups/\<id>](./nc_groups.html#post-v1groupsid) | Adds a class parameter to a node group.
[`nodegroup:addgroup[name,group]`](./console_rake_api.html#nodegroupaddgroupnamegroup) | [POST /v1/groups/\<id>](./nc_groups.html#put-v1groupsid) | This rake task adds a child group.
[`nodegroup:del[name]`](./console_rake_api.html#nodegroupdelname) | [DELETE /v1/groups/\<id>](./nc_groups.html#delete-v1groupsid) |  Deletes a node group.
[`nodegroup:delclass[name,class]`](./console_rake_api.html#nodegroupdelclassnameclass) | [POST /v1/groups/\<id>](./nc_groups.html#post-v1groupsid) | Sets the class to null.
[`nodegroup:delclassparam[name,class,param]`](./console_rake_api.html#nodegroupdelclassparamnameclassparam) | [POST /v1/groups/\<id>](./nc_groups.html#post-v1groupsid) | Sets the class parameter to null.
[`nodegroup:delgroup[name,group]`](./console_rake_api.html#nodegroupdelgroupnamegroup) | [POST /v1/groups/\<id>](./nc_groups.html#post-v1groupsid) | This rake task resets the parent link to the `default` group.
[`nodegroup:edit[name,classes]`](./console_rake_api.html#nodegroupeditnameclasses) | [POST /v1/groups/\<id>](./nc_groups.html#post-v1groupsid) | Replaces existing classes with the specified classes.
[`nodegroup:list[match]`](./console_rake_api.html#nodegrouplistmatch) | [GET /v1/groups](./nc_groups.html#get-v1groups) | Returns a list of node groups that match the string given as the parameter.
[`nodegroup:listclasses[name]`](./console_rake_api.html#nodegrouplistclassesname) | [GET /v1/groups/\<id>](/nc_groups.html#get-v1groupsid) | Returns the classes that belong to the node group.
[`nodegroup:listclassparams[name,class]`](./console_rake_api.html#nodegrouplistclassparamsnameclass) | [GET /v1/groups/\<id>](/nc_groups.html#get-v1groupsid) | Returns the class parameters that belong to the node group.
[`nodegroup:listgroups[name]`](./console_rake_api.html#nodegrouplistgroupsname) | No equivalent | **This rake task has been deprecated and does not do anything in PE3.8.** Child groups can no longer be identified.
[`nodegroup:variables[name,variables]`](./console_rake_api.html#nodegroupvariablesname) | [GET /v1/groups/\<id>](/nc_groups.html#get-v1groupsid) | Edits and adds variables.
`db:create_user` | [POST /users](./rbac_users.html#post-users) | Creates a new user.
`db:users:list` | [GET /users](./rbac_users.html#get-users) | Lists the current users.
`db:users:remove[username]` | [PUT /users/:sid (is\_revoked:true)](./rbac_users.html#put-userssid) | If the user exists, sets the `is_revoked` flag to `true`.
